# 坦克大战客户端

## 连接TCP服务器 TcpClientManager
1. 创建一个Socket对象，绑定IP和端口号，连接TcpServer
2. 用阻塞队列存储需要发送到TcpServer的消息
3. 连接服务器后，新建一个Writer线程，循环 将阻塞队列中的消息发送给TcpServer
4. 连接服务器后，新建一个Reader线程，循环 接收TcpServer发来的消息
5. 发送的消息格式为：自定义协议头+消息体

## 自定义协议
1. 协议头为10字节：操作类型(1B) + 版本号(1B) + 协议体长度(4B) + 校验码(4B)
2. 校验码：将 操作类型、版本号、协议体长度、消息体 进行CRC32加密，得到校验码
3. 消息体：不同的操作类型对应不同的消息体，序列化方式为protobuf

## protobuf
protobuf（Protocol Buffers）是 Google 开发的一种语言无关、平台无关的序列化数据结构的方法。它具有以下几个主要优势：
1. **高效性**：相比 XML 和 JSON，protobuf 序列化后的数据更小、解析速度更快，非常适合对性能要求高的场景。
2. **跨语言支持**：支持多种编程语言（如 Java、C++、Python 等），同一份 .proto 文件可以生成不同语言的代码，方便多语言项目之间的通信。
3. **强类型定义**：使用 .proto 文件定义数据结构，具备严格的类型约束，有助于减少因数据格式不一致导致的错误。
4. **向后兼容性**：可以安全地更新数据结构而不会破坏旧版本的数据读取，非常适用于长期运行的服务或需要升级迭代的系统。
5. **自动生成代码**：通过 protoc 编译器可以根据 .proto 文件自动生成序列化和反序列化的代码，减少了手动编写重复代码的工作量。
6. **适合网络传输与存储**：因为其紧凑性和效率，常被用于微服务之间、客户端与服务器之间的通信协议，以及日志压缩存储等场景。